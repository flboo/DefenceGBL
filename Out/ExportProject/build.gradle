// GENERATED BY UNITY. REMOVE THIS COMMENT TO PREVENT OVERWRITING WHEN EXPORTING AGAIN
buildscript {
    repositories {

        mavenCentral()
        // TaurusXCenter
        maven { url "https://bitbucket.org/sdkcenter/sdkcenter/raw/release" }
        maven { url 'http://maven.aliyun.com/nexus/content/repositories/google' }
        jcenter()
        google()
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:3.4.3'
        classpath 'com.bytedance.applog:RangersAppLog-All-plugin:5.2.6'
        classpath 'com.mob.sdk:MobSDK:+'
        classpath 'com.loveota.plugins:lbplugin:latest.release'
        // TaurusXCenter
        classpath 'com.tgcenter.unified:plugin:2.2'
    }
}

allprojects {
    configurations.all {
        resolutionStrategy.force 'com.taurusx.ads:mediation_gdt:4.491.1361.1'
//    resolutionStrategy.eachDependency { details ->
//        if (details.requested.group == 'com.taurusx.ads:mediation_gdt'
//                && !details.requested.name.contains('multidex') ) {
//            details.useVersion "4.491.1361.1"
//        }
//    }
    }
    repositories {

        flatDir {
            dirs 'libs'
        }
        maven { url 'http://maven.aliyun.com/nexus/content/repositories/google' }
        //probe
        maven { url "https://gitee.com/waves_wb/ProbeSdk/raw/master/"}
        //taurusx
        maven { url 'https://bitbucket.org/maven-taurusxads/taurusxads/raw/release' }
        maven { url "http://nexus.webeyemobi.com/repository/webeye" }
        //game tool
        maven { url "https://bitbucket.org/maven-gametools/gametools/raw/release" }
        //richox
        maven { url "https://bitbucket.org/maven-richox/richox/raw/release" }

        //google()
        jcenter()

    }
}

apply plugin: 'com.android.application'
apply plugin: 'com.mob.sdk'
apply plugin: 'com.loveota.lbsdk'
apply from: project(':lebian').file('lebian_app.gradle')
apply plugin: 'com.tgcenter.unified'
tgCenter {
    config {
        // 从 TaurusXAds平台获取 appId
        appId "f9fc1cd4-98b8-4acb-aace-345655b9a255"
    }
    dependencies {
        // TaurusX 国内版广告实例还未初始化
        // 发行 SDK
        // 如果产品发布到海外，比如 GooglePlay，请改为 tgCenter_Oversea true
        tgCenter true
        // 隐私 SDK
        privacy true
        taurusXAds true
        gameAntiAddiction true
        embed true
        // Network
        taurusXAdsNetwork = [
                  ylhm : true,
                  ylhm_toutiao : true,
                  ylhm_kuaishou : true,
                  ylhm_baidu:true,
//                mobrain : true,
//                mobrain_baidu : true,
//                mobrain_toutiao : true,
////              mobrain_ylh : true,
//                mobrain_ylh_datadetect : true,
//                mobrain_kuaishou : true,
//                mobrain_mintegral : true,
        ]
        richOX=[
                base:true,
                interactive_scene : true,
                fission_moblink : true,
                sect : true,
                strategy_normal : true,
                toolbox : true
        ]

    }
}

android {
    compileSdkVersion 29
    buildToolsVersion '29.0.3'

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    defaultConfig {
        minSdkVersion 21
        targetSdkVersion 29
        flavorDimensions "channel"
        applicationId 'honey.tianmi.wild'
        resValue "string", "wx_app_id", "wx59adaf16248dd083"
        ndk {
            abiFilters 'armeabi-v7a'
        }
        versionCode 10
        versionName '0.1.0'
        buildConfigField "String", "CustomMark", "\"\""
        manifestPlaceholders = [moblink_host: "bvr0.t4m.cn",
                                moblink_scheme: "ssdk3308a9aacf190://cn.sharesdk.loop"]
    }

    dexOptions {
        javaMaxHeapSize "8g"
    }

    useLibrary 'org.apache.http.legacy'

    aaptOptions {
        noCompress '.unity3d', '.ress', '.resource', '.obb','.bundle'
        ignoreAssetsPattern = "!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~"
    }

    signingConfigs {
        release {
            storeFile file('farmkey.keystore')
            storePassword '123456'
            keyAlias 'farmkey'
            keyPassword '123456'
        }
    }

    lintOptions {
        abortOnError false
    }

    buildTypes {
        debug {
            minifyEnabled false
            useProguard false
            proguardFiles getDefaultProguardFile('proguard-android.txt')
            signingConfig signingConfigs.release
            jniDebuggable true
        }
        release {
            minifyEnabled false
            useProguard false
            proguardFiles getDefaultProguardFile('proguard-android.txt')
            signingConfig signingConfigs.release
        }
    }

    packagingOptions {
        exclude 'META-INF/androidx.localbroadcastmanager_localbroadcastmanager.version'
        doNotStrip '*/armeabi-v7a/*.so'
        doNotStrip '*/arm64-v8a/*.so'
    }

    bundle {
        language {
            enableSplit = false
        }
        density {
            enableSplit = false
        }
        abi {
            enableSplit = true
        }
    }

    productFlavors {

        mobrainsdk {
            dimension "channel"
            versionCode 10600
            versionName "1.0.6.0"
            resValue "string", "aid", "\"221325\""
            resValue "string", "appName", "\"happywonderfarm\""
            resValue "string", "toutiao_channel", "\"bytedance\""
            resValue "string", "rangers_app_id", "\"221325\""
            resValue "string", "rangers_channel_id", "\"bytedance\""
            manifestPlaceholders = [af_channelid: "bytedance", "bugly_channelid": "bytedance",build_channel: "bytedance",APPLOG_SCHEME: "rangersapplog.happyfarm".toLowerCase()]

        }

        ylhsdk {
            dimension "channel"
            versionCode 11180
            versionName "1.1.1.8"
            resValue "string", "aid", "\"221325\""
            resValue "string", "appName", "\"happywonderfarm\""
            resValue "string", "toutiao_channel", "\"bytedance\""
            resValue "string", "rangers_app_id", "\"221325\""
            resValue "string", "rangers_channel_id", "\"bytedance\""
            buildConfigField "String", "CustomMark", "\"ylh\""
            manifestPlaceholders = [af_channelid: "bytedance", "bugly_channelid": "bytedance",build_channel: "bytedance",APPLOG_SCHEME: "rangersapplog.happyfarm".toLowerCase()]
        }

        toutiaosdk {
            dimension "channel"
            versionCode 11190
            versionName "1.1.1.9"
            resValue "string", "aid", "\"221325\""
            resValue "string", "appName", "\"happywonderfarm\""
            resValue "string", "toutiao_channel", "\"bytedance\""
            resValue "string", "rangers_app_id", "\"221325\""
            resValue "string", "rangers_channel_id", "\"bytedance\""
            buildConfigField "String", "CustomMark", "\"tt\""
            manifestPlaceholders = [af_channelid: "bytedance", "bugly_channelid": "bytedance",build_channel: "bytedance",APPLOG_SCHEME: "rangersapplog.happyfarm".toLowerCase()]
        }

    }


    applicationVariants.all { variant ->
        variant.outputs.each { output ->
            def outputFile = output.outputFile
            def fileName = outputFile.getName()
            if (outputFile != null && outputFile.name != null && outputFile.name.endsWith(".apk")) {
                if (variant.buildType.name == 'release') {
                    def versionName = variant.mergedFlavor.versionName
                    def falvor = variant.getFlavorName()
                    fileName = "D458_release_${falvor}_v${versionName}.apk"
                }
                output.outputFileName = fileName
            }
        }

    }

}


dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])

    implementation 'androidx.multidex:multidex:2.0.1'
    implementation 'com.we.game.sdk:core:2.0.0'

    implementation(name: 'act-release', ext:'aar')
    implementation(name: 'androidshare-release', ext:'aar')
    implementation(name: 'com.android.installreferrer.installreferrer-1.0', ext:'aar')
//    implementation(name: 'af-android-sdk-6.1.4', ext:'aar')
    implementation(name: 'unity-wrapper-6.1.4', ext:'aar')
    implementation(name: 'com.google.android.exoplayer.exoplayer-hls-2.8.3', ext:'aar')
    implementation(name: 'com.google.android.exoplayer.exoplayer-smoothstreaming-2.8.3', ext:'aar')
    implementation(name: 'com.we.sdk.exchange-0.2.7', ext:'aar')
    implementation(name: 'humesdk-1.0.0', ext:'aar')
//    implementation(name: 'jpush', ext:'aar')
    implementation(name: 'splashpf-release', ext:'aar')
    implementation(name: 'unityandroidpermissions', ext:'aar')

    implementation ("com.taurusx.ads:core:2.9.0") {
        exclude group: 'android.support'
        transitive = true
    }
//
//    implementation 'com.fodlab.probe:probesdk:2.1.7'
    implementation 'com.appsflyer:oaid:6.1.2'
//    implementation 'com.huawei.hms:hms-ads-identifier:3.4.26.303'
    implementation("com.coala.statisticscore:core:1.0.12")

    implementation 'com.tencent.bugly:crashreport_upgrade:1.4.2'
    implementation 'com.tencent.bugly:nativecrashreport:3.7.1'

    implementation 'com.we.modoo:modoosdk:1.0.9'
    implementation 'com.tencent.mm.opensdk:wechat-sdk-android-without-mta:6.7.0'

    implementation(name: 'humesdk-1.0.0', ext:'aar')
    implementation(name: 'androidnotifications-release', ext: 'aar')

    implementation("we.studio.embed:embed-sdk:6.2.1"){
        exclude module: 'miit_mdid'
        exclude module:'eventio-openudid'
    }
    implementation 'com.satori.sdk:eventio-openudid:1.1.1'
    implementation 'com.satori.sdk:eventio-crashlytics:1.0.6'
    implementation 'com.satori.sdk:eventio-go:2.3.7.0'
    //implementation 'com.satori.sdk:miit_mdid:1.0.23'

    implementation "com.coala.statisticscore:rangerssdk:5.5.5.1"
    implementation "com.bytedance.applog:RangersAppLog-Lite-cn:5.5.5"

    implementation "com.google.code.gson:gson:2.8.6"



    implementation 'com.google.zxing:core:3.3.0'
 //   implementation 'com.richox.share:richox_fission_moblink:1.0.9'
    //红包群
//    implementation('com.richox.toolbox:richox_toolbox:1.0.3')

    //数盟
    implementation 'com.satori.shuzilm:sdk:7.4.1'
    //
    //tx  ylh  youxuan
//    implementation(name: 'GDTSDK.dataDetectNoPlugin.4.421.1291', ext:'aar')
//    implementation(name: 'GDTActionSDK.min.1.7.1', ext:'aar')
    implementation "com.taurusx.ads:mediation_gdt:4.491.1361.1"
//    implementation "com.taurusx.ads:mobrain_adapter_gdt:4.380.1250.0"
//    implementation "com.qq.e.union:union:4.380.1250"

//    implementation(name: 'mediation_gdt-4.491.1361.1', ext:'aar')

}

//



MobSDK {
    appKey "3308a9aacf190" //您在开发这后台注册的appKey
    appSecret "e03a39aaec8d08c0fc60657d79aa45d1"//您在开发这后台注册的appSecret
    fp true //严格模式
    MobLink {
        uriScheme "ssdk3308a9aacf190://cn.sharesdk.loop" //您后台配置的scheme
        appLinkHost "bvr0.t4m.cn"//您后台开启AppLink时生成的Host
    }
}